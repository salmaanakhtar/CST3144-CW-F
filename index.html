<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />   
     <title>Lessons App</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <link rel="stylesheet" href="styles.css">
  </head>  <body>
    <div id="app">
      <header class="header">
        <div class="logo-section">
          <div class="logo">L</div>
          <h1 class="app-name">{{ appName }}</h1>
        </div>
        <div class="nav-buttons">
          <button class="nav-btn lessons-btn" @click="goToLessons" v-if="currentPage !== 'lessons'">Lessons</button>
          <button class="nav-btn cart-btn" @click="goToCart" v-if="getTotalCartItems() > 0">
            Cart ({{ getTotalCartItems() }})
          </button>
        </div>
      </header>
      
      <div class="main-content" v-if="currentPage === 'lessons'">
        <h2>Available Lessons</h2>
        
        <div class="search-sort-container">
          <div class="search-bar">
            <input 
              type="text" 
              v-model="searchQuery" 
              placeholder="Search lessons by subject..."
              class="search-input"
            >
          </div>
          
          <div class="sort-controls">
            <select v-model="sortBy" class="sort-select">
              <option value="">Sort by...</option>
              <option value="subject">Subject</option>
              <option value="location">Location</option>
              <option value="price">Price</option>
            </select>
            
            <button 
              @click="toggleSortOrder" 
              class="sort-order-btn"
              v-if="sortBy"
              :class="{ 'desc': sortOrder === 'desc' }"
            >
              {{ sortOrder === 'asc' ? '↑' : '↓' }}
            </button>
          </div>
        </div>
        
        <div class="lessons-container">
          <div class="lesson-card" v-for="lesson in filteredAndSortedLessons" :key="lesson.id">
            <h3 class="lesson-subject">{{ lesson.subject }}</h3>
            <div class="lesson-details">
              <p><strong>Location:</strong> {{ lesson.location }}</p>
              <p><strong>Price:</strong> ${{ lesson.price }}</p>
              <p><strong>Available Spaces:</strong> {{ getAvailableSpaces(lesson) }}</p>
            </div>
            <button 
              class="add-to-cart-btn" 
              @click="addToCart(lesson)"
              :disabled="getAvailableSpaces(lesson) === 0"
              :class="{ 'disabled': getAvailableSpaces(lesson) === 0 }"
            >
              {{ getAvailableSpaces(lesson) === 0 ? 'No Spaces Available' : 'Add to Cart' }}
            </button>
          </div>
        </div>
        
        <div v-if="filteredAndSortedLessons.length === 0" class="no-results">
          <p>No lessons found matching your search criteria.</p>
        </div>
      </div>
      
      <div class="main-content" v-if="currentPage === 'checkout'">
        <h2>Checkout</h2>
        
        <div class="cart-section">
          <h3>Your Cart</h3>
          <div v-if="cart.length === 0" class="empty-cart">
            <p>Your cart is empty</p>
          </div>
          <div v-else class="cart-items">
            <div class="cart-item" v-for="item in cart" :key="item.id">
              <div class="cart-item-info">
                <h4>{{ item.subject }}</h4>
                <p><strong>Location:</strong> {{ item.location }}</p>
                <p><strong>Price:</strong> ${{ item.price }} each</p>
                <p><strong>Quantity:</strong> {{ item.quantity }}</p>
                <p><strong>Subtotal:</strong> ${{ (item.price * item.quantity).toFixed(2) }}</p>
              </div>
            </div>
            <div class="cart-total">
              <h3>Total: ${{ getCartTotal() }}</h3>
            </div>
          </div>
        </div>
        
        <div class="checkout-form-section">
          <h3>Checkout Information</h3>
          <form class="checkout-form">
            <div class="form-group">
              <label for="firstName">First Name:</label>
              <input type="text" id="firstName" v-model="checkoutForm.firstName" required>
            </div>
            
            <div class="form-group">
              <label for="lastName">Last Name:</label>
              <input type="text" id="lastName" v-model="checkoutForm.lastName" required>
            </div>
            
            <div class="form-group">
              <label for="email">Email:</label>
              <input type="email" id="email" v-model="checkoutForm.email" required>
            </div>
            
            <div class="form-group">
              <label for="phone">Phone Number:</label>
              <input type="tel" id="phone" v-model="checkoutForm.phone" required>
            </div>
            
            <div class="form-group">
              <label for="address">Address:</label>
              <textarea id="address" v-model="checkoutForm.address" required></textarea>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="city">City:</label>
                <input type="text" id="city" v-model="checkoutForm.city" required>
              </div>
              
              <div class="form-group">
                <label for="country">Country:</label>
                <select id="country" v-model="checkoutForm.country" required>
                  <option value="">Select Country</option>
                  <option value="United States">United States</option>
                  <option value="United Kingdom">United Kingdom</option>
                  <option value="Canada">Canada</option>
                  <option value="Australia">Australia</option>
                  <option value="Germany">Germany</option>
                  <option value="France">France</option>
                  <option value="Italy">Italy</option>
                  <option value="Spain">Spain</option>
                  <option value="Netherlands">Netherlands</option>
                  <option value="Japan">Japan</option>
                  <option value="Other">Other</option>
                </select>
              </div>
            </div>
            
            <div class="form-group checkbox-group">
              <label class="checkbox-label">
                <input type="checkbox" v-model="checkoutForm.isGift">
                <span class="checkmark"></span>
                This is a gift
              </label>
            </div>
            
            <div class="form-group" v-if="checkoutForm.isGift">
              <label for="recipientName">Recipient's Name:</label>
              <input type="text" id="recipientName" v-model="checkoutForm.recipientName" required>
            </div>
            
            <div class="form-group radio-group">
              <label class="form-label">Delivery Instructions:</label>
              <div class="radio-options">
                <label class="radio-label">
                  <input type="radio" name="deliveryOption" value="leaveAtDoor" v-model="checkoutForm.deliveryOption">
                  <span class="radio-mark"></span>
                  Leave at door
                </label>
                <label class="radio-label">
                  <input type="radio" name="deliveryOption" value="ringBell" v-model="checkoutForm.deliveryOption">
                  <span class="radio-mark"></span>
                  Ring bell
                </label>
              </div>
            </div>
            
            <button type="submit" class="checkout-btn" @click.prevent="processCheckout">
              Complete Purchase - ${{ getCartTotal() }}
            </button>
          </form>
        </div>
      </div>
    </div>    <script>
      new Vue({
        el: '#app',
        data: {
          appName: 'Learning App',
          currentPage: 'lessons',
          cart: [],
          searchQuery: '',
          sortBy: '',
          sortOrder: 'asc',
          checkoutForm: {
            firstName: '',
            lastName: '',
            email: '',
            phone: '',
            address: '',
            city: '',
            country: '',
            isGift: false,
            recipientName: '',
            deliveryOption: ''
          },
            lessons: [
              {
                id: 1,
                subject: 'Mathematics',
                location: 'New York',
                price: 25,
                spaces: 5
              },
              {
                id: 2,
                subject: 'Physics',
                location: 'Los Angeles',
                price: 30,
                spaces: 8
              },
              {
                id: 3,
                subject: 'Chemistry',
                location: 'Chicago',
                price: 28,
                spaces: 6
              },
              {
                id: 4,
                subject: 'Biology',
                location: 'Houston',
                price: 27,
                spaces: 7
              },
              {
                id: 5,
                subject: 'English',
                location: 'Philadelphia',
                price: 22,
                spaces: 10
              },
              {
                id: 6,
                subject: 'History',
                location: 'Phoenix',
                price: 20,
                spaces: 12
              },
              {
                id: 7,
                subject: 'Computer Science',
                location: 'San Antonio',
                price: 35,
                spaces: 4
              },
              {
                id: 8,
                subject: 'Art',
                location: 'San Diego',
                price: 24,
                spaces: 9
              },
              {
                id: 9,
                subject: 'Music',
                location: 'Dallas',
                price: 26,
                spaces: 6
              },
              {
                id: 10,
                subject: 'Psychology',
                location: 'San Jose',
                price: 29,
                spaces: 5
              }
            ]
        },
        computed: {
          filteredAndSortedLessons() {
            let filtered = this.lessons;
            
            if (this.searchQuery) {
              const query = this.searchQuery.toLowerCase();
              filtered = filtered.filter(lesson => 
                lesson.subject.toLowerCase().includes(query)
              );
            }
            
            if (this.sortBy) {
              filtered = [...filtered].sort((a, b) => {
                let valueA = a[this.sortBy];
                let valueB = b[this.sortBy];
                
                if (typeof valueA === 'string') {
                  valueA = valueA.toLowerCase();
                  valueB = valueB.toLowerCase();
                }
                
                if (this.sortOrder === 'asc') {
                  return valueA < valueB ? -1 : valueA > valueB ? 1 : 0;
                } else {
                  return valueA > valueB ? -1 : valueA < valueB ? 1 : 0;
                }
              });
            }
            
            return filtered;
          }
        },
        methods: {
          toggleSortOrder() {
            this.sortOrder = this.sortOrder === 'asc' ? 'desc' : 'asc';
          },
          goToLessons() {
            this.currentPage = 'lessons';
          },
          goToCart() {
            this.currentPage = 'checkout';
          },
          getCartTotal() {
            return this.cart.reduce((total, item) => total + (item.price * item.quantity), 0).toFixed(2);
          },
          processCheckout() {
            console.log('Checkout form data:', this.checkoutForm);
            console.log('Cart contents:', this.cart);
          },
          getTotalCartItems() {
            return this.cart.reduce((total, item) => total + item.quantity, 0);
          },
          getAvailableSpaces(lesson) {
            const cartItem = this.cart.find(item => item.id === lesson.id);
            const quantityInCart = cartItem ? cartItem.quantity : 0;
            return Math.max(0, lesson.spaces - quantityInCart);
          },
          addToCart(lesson) {
            if (this.getAvailableSpaces(lesson) === 0) {
              return;
            }
            
            const existingItem = this.cart.find(item => item.id === lesson.id);
            
            if (existingItem) {
              existingItem.quantity += 1;
            } else {
              this.cart.push({
                ...lesson,
                quantity: 1
              });
            }
            
            console.log('Cart updated:', this.cart);
          }
        }
      })
    </script>
  </body>
</html>
